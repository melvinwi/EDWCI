# design artefact			
# ARTEFACT: TRANSFORM_CUSTOMER_tests			
# DESCRIPTION: Test each transformation rule			
SOURCE_SELECTION_CRITERIA	DESTINATION_SELECTION_CRITERIA	TEST	DESCRIPTION
WHERE STAGING_CUSTOMER.NUMBER = STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER and STAGING_CUSTOMER.NUMBER is not null		source.length.should.equal(destination.length)	row counts should match
WHERE lumo.STAGING_CUSTOMER.NUMBER = lumo.STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER AND STAGING_CUSTOMER.NUMBER = 'NUMBER1'	WHERE DATASTORE_CUSTOMER.NUMBER = 'NUMBER1'	source[0].NUMBER.should.equal(destination[0].NUMBER)	1:1 map rule
WHERE lumo.STAGING_CUSTOMER.NUMBER = lumo.STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER AND STAGING_CUSTOMER.NUMBER = 'NUMBER1'	WHERE DATASTORE_CUSTOMER.NUMBER = 'NUMBER1'	source[0].FIRSTNAME.should.equal(destination[0].FIRST_NAME)	1:1 map rule
WHERE lumo.STAGING_CUSTOMER.NUMBER = lumo.STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER AND STAGING_CUSTOMER.NUMBER = 'NUMBER1'	WHERE DATASTORE_CUSTOMER.NUMBER = 'NUMBER1'	source[0].SURNAME.should.equal(destination[0].LAST_NAME)	1:1 map rule
WHERE lumo.STAGING_CUSTOMER.NUMBER = lumo.STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER AND STAGING_CUSTOMER.NUMBER = 'NUMBER1'	WHERE DATASTORE_CUSTOMER.NUMBER = 'NUMBER1'	source[0].MIDDLENAME.should.equal(destination[0].MIDDLE_NAME)	1:1 map rule
WHERE lumo.STAGING_CUSTOMER.NUMBER = lumo.STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER AND STAGING_CUSTOMER.NUMBER = 'NUMBER1'	WHERE DATASTORE_CUSTOMER.NUMBER = 'NUMBER1'	source[0].UPDATED_DATETIME.toString().should.equal(destination[0].UPDATED_DT.toString())	1:1 map rule
WHERE lumo.STAGING_CUSTOMER.NUMBER = lumo.STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER AND STAGING_CUSTOMER.NUMBER = 'NUMBER1'	WHERE DATASTORE_CUSTOMER.NUMBER = 'NUMBER1'	source[0].ACCOUNT_ID.should.equal(destination[0].ACCOUNT_ID)	1:1 map rule
WHERE lumo.STAGING_CUSTOMER.NUMBER = lumo.STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER AND STAGING_CUSTOMER.NUMBER = 'NUMBER1'	WHERE DATASTORE_CUSTOMER.NUMBER = 'NUMBER1'	source[0].ACCOUNT_TYPE_ID.substring(0,1).should.equal(destination[0].ACCOUNT_TYPE_ID)	should match first char only
WHERE lumo.STAGING_CUSTOMER.NUMBER = lumo.STAGING_CUSTOMER_ACCOUNT.CUSTOMER_NUMBER AND STAGING_CUSTOMER.NUMBER = 'NUMBER1'	WHERE DATASTORE_CUSTOMER.NUMBER = 'NUMBER1'	source[0].ACCOUNT_NAME.should.equal(destination[0].ACCOUNT_NAME)	1:1 map rule